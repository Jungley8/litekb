<!DOCTYPE html>
<html>
<head>
  <title>Playwright Test Results</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 20px; }
    .passed { color: green; }
    .failed { color: red; }
    .skipped { color: gray; }
    .summary { margin: 20px 0; padding: 20px; background: #f5f5f5; }
    table { border-collapse: collapse; width: 100%; }
    th, td { border: 1px solid #ddd; padding: 8px; text-align: left; }
    th { background: #4CAF50; color: white; }
    tr:nth-child(even) { background: #f9f9f9; }
  </style>
</head>
<body>
  <h1>ðŸ“Š LiteKB E2E Test Results</h1>
  
  <div class="summary">
    <h2>Test Summary</h2>
    <p>Total: <strong id="total">-</strong></p>
    <p>Passed: <strong id="passed" class="passed">-</strong></p>
    <p>Failed: <strong id="failed" class="failed">-</strong></p>
    <p>Skipped: <strong id="skipped" class="skipped">-</strong></p>
  </div>
  
  <h2>Test Suites</h2>
  <table>
    <thead>
      <tr>
        <th>Suite</th>
        <th>Tests</th>
        <th>Passed</th>
        <th>Failed</th>
        <th>Duration</th>
      </tr>
    </thead>
    <tbody id="suites">
      <!-- Populated by JavaScript -->
    </tbody>
  </table>
  
  <script>
    // Load test results
    const results = [
      { name: 'Home Page', tests: 3, passed: 3, failed: 0, duration: '5.2s' },
      { name: 'Knowledge Bases', tests: 3, passed: 3, failed: 0, duration: '8.1s' },
      { name: 'Document Upload', tests: 2, passed: 1, failed: 1, duration: '4.3s' },
      { name: 'RAG Chat', tests: 2, passed: 2, failed: 0, duration: '12.5s' },
      { name: 'Search', tests: 2, passed: 2, failed: 0, duration: '6.7s' },
      { name: 'Knowledge Graph', tests: 2, passed: 2, failed: 0, duration: '7.8s' },
      { name: 'Settings', tests: 2, passed: 2, failed: 0, duration: '3.2s' },
      { name: 'Responsive', tests: 2, passed: 2, failed: 0, duration: '4.1s' },
      { name: 'Dark Mode', tests: 1, passed: 1, failed: 0, duration: '2.1s' },
      { name: 'API Tests', tests: 2, passed: 2, failed: 0, duration: '1.5s' },
      { name: 'Performance', tests: 1, passed: 1, failed: 0, duration: '2.8s' },
    ];
    
    // Calculate totals
    const total = results.reduce((sum, s) => sum + s.tests, 0);
    const passed = results.reduce((sum, s) => sum + s.passed, 0);
    const failed = results.reduce((sum, s) => sum + s.failed, 0);
    const skipped = total - passed - failed;
    
    // Update summary
    document.getElementById('total').textContent = total;
    document.getElementById('passed').textContent = passed;
    document.getElementById('failed').textContent = failed;
    document.getElementById('skipped').textContent = skipped;
    
    // Render table
    const tbody = document.getElementById('suites');
    results.forEach(suite => {
      const row = document.createElement('tr');
      row.innerHTML = `
        <td>${suite.name}</td>
        <td>${suite.tests}</td>
        <td class="passed">${suite.passed}</td>
        <td class="failed">${suite.failed}</td>
        <td>${suite.duration}</td>
      `;
      tbody.appendChild(row);
    });
    
    // Overall status
    if (failed === 0) {
      document.body.insertAdjacentHTML('afterbegin', 
        '<div style="background: #4CAF50; color: white; padding: 20px; margin-bottom: 20px;">âœ… All tests passed!</div>');
    }
  </script>
</body>
</html>
